<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Pixel manual-update guide : Guide to manually update a potentially modified Google Pixel">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Pixel manual-update guide</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/matthewtraughber/pixel_manual-update_guide">View on GitHub</a>

          <h1 id="project_title">Pixel manual-update guide</h1>
          <h2 id="project_tagline">Guide to manually update a potentially modified Google Pixel</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/matthewtraughber/pixel_manual-update_guide/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/matthewtraughber/pixel_manual-update_guide/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="manually-updating-a-potentially-modified-google-pixel" class="anchor" href="#manually-updating-a-potentially-modified-google-pixel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Manually updating a potentially modified Google Pixel</h1>

<p>This guide will document how to manually update a rooted (doesn't have to be) Google Pixel while keeping data (including how to re-root / install TWRP after taking the update).</p>

<blockquote>
<h4>
<a id="note" class="anchor" href="#note" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NOTE!</h4>

<ul>
<li>This guide assumes you are familiar with command-line terminals and adb / fastboot</li>
<li>Text within brackets such as <strong><em>[filename]</em></strong> are variables to be replaced at your discretion</li>
</ul>
</blockquote>

<h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h2>

<h3>
<a id="hardware" class="anchor" href="#hardware" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hardware</h3>

<ul>
<li>Google Pixel needing OTA (can be rooted and/or using TWRP, doesn't matter)</li>
<li>USB C cable to connect Pixel to Linux / OSX (You can do the same on a Windows machine, but the commands will be slightly different)</li>
</ul>

<h3>
<a id="software" class="anchor" href="#software" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Software</h3>

<ul>
<li>Most recent versions of adb &amp; fastboot (get them via <a href="https://developer.android.com/studio/index.html">Android Studio</a>)</li>
</ul>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup</h2>

<h3>
<a id="collect-necessary-external-files" class="anchor" href="#collect-necessary-external-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Collect necessary external files</h3>

<h4>
<a id="android-factory-images" class="anchor" href="#android-factory-images" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android factory images</h4>

<p>We're using the full Android factory image for this method (not the OTA file). Note the differences between Google Pixel "sailfish" and Google Pixel XL "marlin".</p>

<ul>
<li>Download the latest factory image for your device located <a href="https://developers.google.com/android/images">here</a> <em>(at the time of this writing, the latest version for the Google Pixel was 7.1.1 (NMF26O, Dec 2016))</em>
</li>
<li>Extract the ZIP, take note of the file <code>flash-all.sh</code>
</li>
</ul>

<h4>
<a id="supersu" class="anchor" href="#supersu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SuperSU</h4>

<ul>
<li>Download the flashable ZIP <a href="https://plus.google.com/+Chainfire/posts/jpR76YEgaM9?sfc=true">here</a> <em>(at the time of this writing, the latest version was SuperSU v2.78 SR5)</em>
</li>
</ul>

<h4>
<a id="twrp" class="anchor" href="#twrp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TWRP</h4>

<p>Download the latest version for your Pixel (minimum reqired version is alpha2). Make sure to download both the <code>[filename].img</code> and <code>[filename].zip</code></p>

<ul>
<li><a href="https://twrp.me/devices/googlepixel.html">Google Pixel</a></li>
<li><a href="https://twrp.me/devices/googlepixelxl.html">Google Pixel XL</a></li>
</ul>

<p>Copy the TWRP <code>[filename].zip</code> and SuperSU <code>[filename].zip</code> to your Pixel.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="android-factory-images-1" class="anchor" href="#android-factory-images-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android factory images</h3>

<h4>
<a id="updating-the-pixel-with-the-new-factory-image" class="anchor" href="#updating-the-pixel-with-the-new-factory-image" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Updating the Pixel with the new factory image</h4>

<ul>
<li>Open <code>flash-all.sh</code> with a text editor. Note the commands located inside:</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot flash bootloader [bootloader-filename].img
fastboot reboot-bootloader
sleep 5
fastboot flash radio [radio-filename].img
fastboot reboot-bootloader
sleep 5
fastboot -w update [image-filename].zip</pre></div>

<ul>
<li>You'll be running these commands manually, removing the wipe option <code>-w</code> from the last command</li>
<li>Connect Pixel to computer, ensure USB debugging is enabled on the device</li>
<li>Open a terminal window and navigate to the folder where the extracted Android factory image is.</li>
<li>Start by rebooting the Pixel into the bootloader</li>
</ul>

<div class="highlight highlight-source-shell"><pre>adb reboot-bootloader</pre></div>

<ul>
<li>Flash the new bootloader</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot flash bootloader [bootloader-filename].img</pre></div>

<ul>
<li>Reboot the bootloader</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot reboot-bootloader</pre></div>

<ul>
<li>Flash the new radio</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot flash radio [radio-filename].img</pre></div>

<ul>
<li>Reboot the bootloader</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot reboot-bootloader</pre></div>

<ul>
<li>Flash the new image (remove <code>-w</code> to keep data)</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot update [image-filename].zip</pre></div>

<ul>
<li>Once this completes, reboot the Pixel</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot reboot</pre></div>

<p>At this point, if you had root or TWRP before, it's gone now (expected). You should have a stock Pixel running the image downloaded with all your saved applications etc.</p>

<h3>
<a id="twrp-1" class="anchor" href="#twrp-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TWRP</h3>

<h4>
<a id="flashing-twrp-temporarily-or-permanent" class="anchor" href="#flashing-twrp-temporarily-or-permanent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Flashing TWRP (temporarily or permanent)</h4>

<p>There are two installation options. You can 'permanently' install TWRP over the stock recovery, or just temporarily boot into it to root the Pixel.</p>

<ul>
<li>In the terminal, navigate to the directory where the TWRP <code>[filename].img</code> exists</li>
<li>Start by rebooting the Pixel into the bootloader</li>
</ul>

<div class="highlight highlight-source-shell"><pre>adb reboot-bootloader</pre></div>

<ul>
<li>Temporarily boot TWRP</li>
</ul>

<div class="highlight highlight-source-shell"><pre>fastboot boot [filename].img</pre></div>

<ul>
<li>Once TWRP is booted, swipe across to allow modifications</li>
<li>Temporary booting into TWRP is complete, you can proceed to rooting the device now</li>
<li>
<strong>OPTIONAL</strong> - Install the TWRP <code>[filename].zip</code> on the Pixel via TWRP to permanently replace the stock recovery with TWRP</li>
</ul>

<h3>
<a id="supersu-1" class="anchor" href="#supersu-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SuperSu</h3>

<h4>
<a id="rooting-the-pixel" class="anchor" href="#rooting-the-pixel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rooting the Pixel</h4>

<p>At this point you should still be in TWRP.</p>

<ul>
<li>Install the SuperSU <code>[filename].zip</code> on the Pixel via TWRP to grant root access on the device</li>
<li>Reboot the device</li>
</ul>

<h2>
<a id="wrap-up" class="anchor" href="#wrap-up" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Wrap up</h2>

<p>And that's about it. You should have the latest Android factory image installed with root access, all without losing any data or settings. However, any changes made that required root previously (such as build.prop edits) will need to be replicated.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Pixel manual-update guide maintained by <a href="https://github.com/matthewtraughber">matthewtraughber</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
